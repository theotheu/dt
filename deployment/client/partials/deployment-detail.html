<h2>Deployment Detail</h2>

<div class="deployment">
    <table>
        <tr>
            <th>Database ID</th>
            <td>{{deployments.doc._id}}</td>
        </tr>
        <tr>
            <th>Deployment ID</th>
            <td>{{deployments.doc.deploymentId}}</td>
        </tr>
        <tr>
            <th>Timestamp</th>
            <td>{{deployments.doc.modificationDate}}</td>
        </tr>
        <tr>
            <th>Deployment result</th>
            <td>{{deployments.doc.deploymentResult}}</td>
        </tr>
    </table>
</div>

<h2>Static Analyzer test log</h2>
<label>show results: <input type="checkbox" ng-model="staticChecked" ng-init="checked=false"/></label>
<div ng-repeat="deployment in deployments.doc.staticTestLog" ng-if="staticChecked">
    <h3 ng-show="deployment.noFileText">{{deployment.noFileText}}</h3>
</div>

<h2>Unit test log</h2>
<label>show results: <input type="checkbox" ng-model="unitChecked" ng-init="checked=false"/></label>
<div ng-repeat="deployment in deployments.doc.unitTestLog" ng-if="unitChecked">
    <h3 ng-show="deployment.noFileText">{{deployment.noFileText}}</h3>
</div>


<h2>End 2 end test log</h2>
<label>show results: <input type="checkbox" ng-model="e2eChecked" ng-init="checked=false"/></label>

<span ng-if="e2eChecked">

    <div ng-show="deployments.doc.e2eTestLog.noFile">
        <h3>{{deployments.doc.e2eTestLog.noFile.noFileText}}</h3>
    </div>

    <div ng-repeat="deployment in deployments.doc.e2eTestLog" ng-hide="deployments.doc.e2eTestLog.noFile">
        <h3>{{deployment.id}} --> {{deployment.description}} </h3>

        <div ng-repeat="spec in deployment.specs">
            <h4>{{spec.id}} - {{spec.fullName}}</h4>
            <table>
                <tr>
                    <th>Status</th>
                    <th colspan="2">Pending reason</th>
                </tr>
                <tr>
                    <td>{{spec.status}}</td>
                    <td colspan="2">{{spec.pendingReason}}</td>
                </tr>
                <tr>
                    <th>Matcher name</th>
                    <th>Message</th>
                    <th>Test passed?</th>
                </tr>
                <tr ng-repeat="passed in spec.passedExpectations">
                    <td>{{passed.matcherName}}</td>
                    <td>{{passed.message}}</td>
                    <td>{{passed.passed}}</td>
                </tr>
                <tr ng-repeat="failed in spec.failedExpectations">
                    <td>{{failed.matcherName}}</td>
                    <td>{{failed.message}}</td>
                    <td>{{failed.passed}}</td>
                </tr>
            </table>
            <br>
        </div>
    </div>
</span>


<h2>Bash log</h2>
<label>show results: <input type="checkbox" ng-model="bashChecked" ng-init="checked=false"/></label>
<div class="textfield" ng-if="bashChecked">
    {{deployments.doc.bashLog}}
</div>